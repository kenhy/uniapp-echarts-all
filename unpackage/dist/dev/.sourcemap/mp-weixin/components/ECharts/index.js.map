{"version":3,"sources":["webpack:///D:/project/hellouiapp/echarts-uniapp-all/components/ECharts/index.vue?3914","webpack:///D:/project/hellouiapp/echarts-uniapp-all/components/ECharts/index.vue?d159","webpack:///D:/project/hellouiapp/echarts-uniapp-all/components/ECharts/index.vue?4d75","webpack:///D:/project/hellouiapp/echarts-uniapp-all/components/ECharts/index.vue?5822","uni-app:///components/ECharts/index.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0BppB;AACA;AACA,4F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;AAEA;AACA,iBADA;;AAGA;AACA;;;AAGA;AACA,oBADA;AAEA,kBAFA,EAJA;;AAQA;;;AAGA;AACA,oBADA;AAEA,kBAFA;AAGA,2BAHA,EAXA;;AAgBA;;;AAGA;AACA,kBADA;AAEA,qBAFA,EAnBA;;AAuBA;;;AAGA;AACA,kBADA;AAEA,qBAFA,EA1BA,EAHA;;;;AAmCA,SAnCA,qBAmCA;AACA;AACA,GArCA;;AAuCA;AACA,QADA,kBACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,YADA,YACA,aADA;AAEA,wBAFA,CAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BADA;AAEA,4BAFA;;AAIA;AACA,sCAXA;;AAaA,qBAbA,CAaA,OAbA,gBAaA,OAbA;;AAeA;AACA;AACA,OAnBA;AAoBA,UApBA;AAqBA,KA9BA;AA+BA,wBA/BA,gCA+BA,GA/BA,EA+BA;AACA,cADA,GACA,IADA,CACA,QADA;AAEA;AACA;AACA,4BADA;AAEA,WAFA;;AAIA,OALA;AAMA,KAvCA;AAwCA,cAxCA,sBAwCA,CAxCA,EAwCA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,KApDA;AAqDA,aArDA,qBAqDA,CArDA,EAqDA;AACA;;AAEA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,KA9DA;AA+DA,YA/DA,oBA+DA,CA/DA,EA+DA;AACA;;AAEA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA,KA5EA,EAvCA,E","file":"components/ECharts/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=4243cbd2&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ECharts/index.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=4243cbd2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <canvas\n        v-if=\"canvasId\"\n        class=\"e-charts\"\n        :id=\"canvasId\"\n        :canvasId=\"canvasId\"\n        :style=\"{width, height}\"\n        @touchstart=\"touchStart\"\n        @touchmove=\"touchMove\"\n        @touchend=\"touchEnd\"\n        @error=\"error\"\n    ></canvas>\n</template>\n\n<script>\n/**\n * echarts 封装，基于 [echarts-for-weixin 微信小程序](https://github.com/ecomfe/echarts-for-weixin)\n * @author zhangpenghe\n * @date 2019-10-25\n * @param {Object} option 必需，作为 echarts 的 option，见 [官方文档](https://www.echartsjs.com/zh/tutorial.html#5%20分钟上手%20ECharts)\n * @param {string} canvasId 必需，作为小程序 canvas 原生属性，需保证唯一性，但可随意填写\n * @param {string} width 可选，作为 canvas 的 width\n * @param {string} height 可选，作为 canvas 的 height\n * @example\n *          <e-charts canvas-id=\"zphhhhh\" :option=\"option\" width=\"100%\" height=\"600px\"></e-charts>\n */\nimport WxCanvas from './wx-canvas';\nimport * as echarts from '../../static/echarts.min';\r\nimport geoJson from '../../static/china.json';\n\nfunction wrapTouch(e) {\n    for (let i = 0; i < e.mp.touches.length; i += 1) {\n        const touch = e.mp.touches[i];\n        touch.offsetX = touch.x;\n        touch.offsetY = touch.y;\n    }\n    return e;\n}\n\nexport default {\n    name: 'ECharts',\n\n    props: {\n        /**\n         *  echarts 的 option，会透传给 echarts\n         */\n        option: {\n            required: true,\n            type: Object\n        },\n        /**\n         * canvas id，要保证全局唯一性，小程序要求，否则会出问题\n         */\n        canvasId: {\n            required: true,\n            type: String,\n            default: 'my-echarts'\n        },\n        /**\n         * echarts 宽\n         */\n        width: {\n            type: String,\n            default: '100%'\n        },\n        /**\n         * echarts 高\n         */\n        height: {\n            type: String,\n            default: '100%'\n        }\n    },\n\n    onReady() {\n        this.init();\n    },\n\n    methods: {\n        init() {\n            this.ctx = uni.createCanvasContext(this.canvasId, this);\n\n            const canvas = new WxCanvas(this.ctx, this.canvasId);\n            const query = uni.createSelectorQuery().in(this);\n\n            echarts.setCanvasCreator(() => canvas);\n\n            query\n                .select(`#${this.canvasId}`)\n                .boundingClientRect(res => {\n                    if (!res) {\n                        setTimeout(() => this.init(), 50);\n                        return;\n                    }\n\n                    const chart = echarts.init(canvas, null, {\n                        width: res.width,\n                        height: res.height\n                    });\n\t\t\t\t\techarts.registerMap('china', geoJson);\n                    chart.setOption(this.option);\n\n                    const {handler} = chart.getZr();\n\n                    this.handler = handler;\n                    this.processGesture = handler.proxy.processGesture || (() => {});\n                })\n                .exec();\n        },\n        canvasToTempFilePath(opt) {\n            const {canvasId} = this;\n            this.ctx.draw(true, () => {\n                uni.canvasToTempFilePath({\n                    canvasId,\n                    ...opt\n                });\n            });\n        },\n        touchStart(e) {\n            if (!e.mp.touches.length || !this.handler) return;\n            const touch = e.mp.touches[0];\n            this.handler.dispatch('mousedown', {\n                zrX: touch.x,\n                zrY: touch.y\n            });\n            this.handler.dispatch('mousemove', {\n                zrX: touch.x,\n                zrY: touch.y\n            });\n            this.processGesture(wrapTouch(e), 'start');\n        },\n        touchMove(e) {\n            if (!e.mp.touches.length || !this.handler) return;\n\n            const touch = e.mp.touches[0];\n            this.handler.dispatch('mousemove', {\n                zrX: touch.x,\n                zrY: touch.y\n            });\n            this.processGesture(wrapTouch(e), 'change');\n        },\n        touchEnd(e) {\n            if (!this.handler) return;\n\n            const touch = e.mp.changedTouches ? e.mp.changedTouches[0] : {};\n            this.handler.dispatch('mouseup', {\n                zrX: touch.x,\n                zrY: touch.y\n            });\n            this.handler.dispatch('click', {\n                zrX: touch.x,\n                zrY: touch.y\n            });\n            this.processGesture(wrapTouch(e), 'end');\n        }\n    }\n};\n</script>\n"],"sourceRoot":""}